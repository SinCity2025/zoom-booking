{% extends 'base.html' %}
{% block content %}
<div class="row g-3 g-md-4">
  <div class="col-lg-5 order-2 order-lg-1">
    <div class="card shadow-sm">
      <div class="card-body">
        <h5 class="mb-3">ุฅุถุงูุฉ ุญุฌุฒ ุฏูุฑุฉ</h5>
        <form method="post">
          <div class="mb-3">
            <label class="form-label">ุงุณู ุงูุฏูุฑุฉ</label>
            <input type="text" name="title" class="form-control" placeholder="ูุซุงู: ุฃุณุงุณูุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู" required>
          </div>
          <div class="mb-3">
            <label class="form-label">ุงุณู ุงููุฏุฑุจ</label>
            <input type="text" name="trainer_name" class="form-control" placeholder="ูุซุงู: ููุตูุฑ ูุจุงุฑูู">
          </div>
          <div class="row g-2">
            <div class="col-12 mb-2">
              <label class="form-label">ุงูุชุงุฑูุฎ</label>
              <input type="date" name="date" class="form-control" required>
            </div>
            <div class="col-6 mb-2">
              <label class="form-label">ููุช ุงูุจุฏุงูุฉ</label>
              <input type="time" name="start_time" class="form-control" required>
            </div>
            <div class="col-6 mb-2">
              <label class="form-label">ููุช ุงูููุงูุฉ</label>
              <input type="time" name="end_time" class="form-control" required>
            </div>
          </div>
          <button class="btn btn-primary w-100 mt-2">ุญูุธ ุงูุญุฌุฒ</button>
        </form>
      </div>
    </div>

    <div class="card shadow-sm mt-3">
      <div class="card-body">
        <h5 class="mb-3">ุญุฌูุฒุงุชู</h5>
        {% if my_bookings %}
          <ul class="list-group">
            {% for b in my_bookings %}
              <li class="list-group-item d-flex justify-content-between align-items-center flex-column flex-md-row">
                <span class="text-center text-md-start">
                  ๐ {{ b.title }} โ ุงููุฏุฑุจ: {{ b.trainer_name or b.owner_name }} โ
                  {{ b.start.strftime('%Y-%m-%d %H:%M') }} ุฅูู {{ b.end.strftime('%H:%M') }}
                </span>
                <span class="badge bg-success mt-2 mt-md-0">ูุคูุฏ</span>
              </li>
            {% endfor %}
          </ul>
        {% else %}
          <div class="text-muted">ูุง ุชูุฌุฏ ุญุฌูุฒุงุช ุจุนุฏ.</div>
        {% endif %}
      </div>
    </div>
  </div>

  <div class="col-lg-7 order-1 order-lg-2">
    <div class="card shadow-sm">
      <div class="card-body">
        <h5 class="mb-3">ุงูุชูููู ุงูุนุงู</h5>
        <div id="calendar" data-events-url="{{ url_for('api_bookings') }}"></div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
